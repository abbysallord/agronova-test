{"version":3,"sources":["../../../../../agronova/app/dashboard/community/page.tsx","../../../../../agronova/node_modules/%40tabler/icons-react/src/icons/IconArrowBackUp.ts","../../../../../agronova/node_modules/%40tabler/icons-react/src/icons/IconHeart.ts","../../../../../agronova/node_modules/%40tabler/icons-react/src/icons/IconMessageCircle.ts","../../../../../agronova/node_modules/%40tabler/icons-react/src/icons/IconMessage.ts","../../../../../agronova/node_modules/%40tabler/icons-react/src/icons/IconSend.ts","../../../../../agronova/node_modules/%40tabler/icons-react/src/icons/IconPhoto.ts"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n// Removed useTheme import as it's handled by ThemeToggle internally or not needed if only for toggle\r\nimport { ThemeToggle } from \"@/components/ui/theme-toggle\";\r\nimport { \r\n    IconHeart, IconMessageCircle, IconUsers, IconMessage, IconSend, \r\n    IconPhoto, IconX, IconEdit, IconTrash, IconDots, IconMoodSmile, IconArrowBackUp, IconSearch,\r\n    IconThumbUp, IconMoodHappy, IconMoodSad, IconMoodAngry, IconCheck, IconMoon, IconSun\r\n} from \"@tabler/icons-react\";\r\nimport Image from \"next/image\";\r\nimport { motion, AnimatePresence } from \"motion/react\";\r\n\r\n// --- Types ---\r\ninterface Comment { id: string; userEmail: string; userName: string; text: string; date: string; }\r\ninterface Post { \r\n    id: string; \r\n    userEmail: string; \r\n    userName: string; \r\n    userRole: string; \r\n    content: string; \r\n    image?: string; \r\n    likes: string[]; \r\n    comments: Comment[]; \r\n    date: string; \r\n}\r\ninterface Message { \r\n    id: string; \r\n    sender: string; \r\n    receiver: string; \r\n    content: string; \r\n    timestamp: string; \r\n    read?: boolean;\r\n    reaction?: string;\r\n    replyToId?: string;\r\n    edited?: boolean;\r\n}\r\ninterface SocialUser { name: string; email: string; role: string; followers: string[]; following: string[]; }\r\n\r\nexport default function CommunityPage() {\r\n  const { user } = useAuth();\r\n  const [activeTab, setActiveTab] = useState<\"feed\" | \"network\" | \"messages\">(\"feed\");\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  // Feed State\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loadingPosts, setLoadingPosts] = useState(true);\r\n  const [editingPostId, setEditingPostId] = useState<string | null>(null);\r\n\r\n  // Network State\r\n  const [users, setUsers] = useState<SocialUser[]>([]);\r\n  const [networkFilter, setNetworkFilter] = useState<\"all\" | \"following\" | \"followers\">(\"all\");\r\n\r\n  // Messages State\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [selectedChatUser, setSelectedChatUser] = useState<string | null>(null);\r\n  const [msgInput, setMsgInput] = useState(\"\");\r\n  const [replyTo, setReplyTo] = useState<Message | null>(null);\r\n  const [editingMsgId, setEditingMsgId] = useState<string | null>(null); // New: Edit Message State\r\n\r\n  const pollingRef = useRef<NodeJS.Timeout | null>(null);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => { setIsClient(true); }, []);\r\n\r\n  useEffect(() => {\r\n    if(!isClient) return;\r\n    fetchPosts();\r\n    fetchUsers();\r\n    pollingRef.current = setInterval(() => {\r\n        if (user && activeTab === \"messages\") fetchMessages();\r\n    }, 3000); \r\n    return () => { if(pollingRef.current) clearInterval(pollingRef.current); };\r\n  }, [user, activeTab, isClient]);\r\n\r\n  useEffect(() => {\r\n      if(activeTab === 'messages' && isClient) scrollToBottom();\r\n  }, [messages.length, selectedChatUser, activeTab, isClient]);\r\n\r\n  const scrollToBottom = () => messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n\r\n  // --- API Calls ---\r\n  const fetchPosts = async () => {\r\n    setLoadingPosts(true);\r\n    try { const res = await fetch(\"/api/community/posts\"); setPosts(await res.json()); } \r\n    catch(e) {} finally { setLoadingPosts(false); }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try { const res = await fetch(\"/api/users\"); setUsers(await res.json()); } catch(e) {}\r\n  };\r\n\r\n  const fetchMessages = async () => {\r\n      if(!user) return;\r\n      try { const res = await fetch(`/api/messages?email=${user.email}`); setMessages(await res.json()); } catch(e) {}\r\n  };\r\n\r\n  // --- Actions ---\r\n  const handleFollow = async (targetEmail: string) => {\r\n      if(!user) return;\r\n      setUsers(prev => prev.map(u => {\r\n          if(u.email === targetEmail) {\r\n               const isFollowing = u.followers.includes(user.email);\r\n               return { ...u, followers: isFollowing ? u.followers.filter(e => e !== user.email) : [...u.followers, user.email] };\r\n          }\r\n          if(u.email === user.email) {\r\n              const followingTarget = u.following.includes(targetEmail);\r\n              return { ...u, following: followingTarget ? u.following.filter(e => e !== targetEmail) : [...u.following, targetEmail] };\r\n          }\r\n          return u;\r\n      }));\r\n      await fetch(\"/api/users/follow\", { \r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ userEmail: user.email, targetEmail })\r\n      });\r\n  };\r\n\r\n  const handleCreatePost = async (content: string, image?: string) => {\r\n      if(!user) return;\r\n      await fetch(\"/api/community/posts\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ userEmail: user.email, userName: user.name || \"Farmer\", userRole: \"farmer\", content, image })\r\n      });\r\n      fetchPosts();\r\n  };\r\n\r\n  const handleLike = async (postId: string) => {\r\n      if(!user) return;\r\n      setPosts(prev => prev.map(p => p.id === postId ? {\r\n          ...p, likes: p.likes.includes(user.email) ? p.likes.filter(e => e !== user.email) : [...p.likes, user.email]\r\n      } : p));\r\n      await fetch(\"/api/community/posts/like\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ postId, userEmail: user.email })\r\n      });\r\n  };\r\n\r\n  const handleDeletePost = async (postId: string) => {\r\n      if(!user || !confirm(\"Delete this post?\")) return;\r\n      setPosts(prev => prev.filter(p => p.id !== postId));\r\n      await fetch(`/api/community/posts?id=${postId}&userEmail=${user.email}`, { method: \"DELETE\" }); \r\n  };\r\n\r\n  const handleComment = async (postId: string, text: string) => {\r\n      if(!user) return;\r\n      const newComment: Comment = { id: Date.now().toString(), userEmail: user.email, userName: user.name || \"User\", text, date: new Date().toISOString() };\r\n      setPosts(prev => prev.map(p => p.id === postId ? { ...p, comments: [...p.comments, newComment] } : p));\r\n      await fetch(\"/api/community/posts/comment\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ postId, userEmail: user.email, userName: user.name, text })\r\n      });\r\n  };\r\n\r\n  const handleDeleteComment = async (postId: string, commentId: string) => {\r\n      if(!user || !confirm(\"Delete this comment?\")) return;\r\n      setPosts(prev => prev.map(p => p.id === postId ? { ...p, comments: p.comments.filter(c => c.id !== commentId) } : p));\r\n      await fetch(`/api/community/posts/comment?postId=${postId}&commentId=${commentId}&userEmail=${user.email}`, { method: \"DELETE\" });\r\n  };\r\n\r\n  const handleEditPost = async (postId: string, content: string) => {\r\n      if(!user) return;\r\n      setPosts(prev => prev.map(p => p.id === postId ? { ...p, content } : p));\r\n      setEditingPostId(null);\r\n      await fetch(`/api/community/posts`, {\r\n        method: \"PUT\", headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ postId, content, userEmail: user.email })\r\n      });\r\n  };\r\n\r\n  const handleJoinChat = (targetUserEmail: string) => {\r\n      setSelectedChatUser(targetUserEmail);\r\n      setActiveTab(\"messages\");\r\n      fetchMessages();\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n      if(!user || !selectedChatUser || !msgInput.trim()) return;\r\n      const optimisticMsg: Message = {\r\n          id: Date.now().toString(), sender: user.email, receiver: selectedChatUser, content: msgInput, timestamp: new Date().toISOString(), replyToId: replyTo?.id\r\n      };\r\n      setMessages(prev => [...prev, optimisticMsg]);\r\n      setMsgInput(\"\");\r\n      setReplyTo(null);\r\n      scrollToBottom();\r\n      await fetch(\"/api/messages\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ sender: user.email, receiver: selectedChatUser, content: optimisticMsg.content, replyToId: optimisticMsg.replyToId })\r\n      });\r\n      fetchMessages(); // Sync\r\n  };\r\n\r\n  const handleMessageReaction = async (msgId: string, reaction: string) => {\r\n      if(!user) return;\r\n      setMessages(prev => prev.map(m => m.id === msgId ? { ...m, reaction: m.reaction === reaction ? undefined : reaction } : m));\r\n      await fetch(`/api/messages/${msgId}`, {\r\n          method: \"PATCH\", headers: {\"Content-Type\": \"application/json\"},\r\n          body: JSON.stringify({ userEmail: user.email, reaction })\r\n      });\r\n  };\r\n\r\n  const handleDeleteMessage = async (msgId: string) => {\r\n      if(!user || !confirm(\"Delete this message?\")) return;\r\n      setMessages(prev => prev.filter(m => m.id !== msgId));\r\n      await fetch(`/api/messages/${msgId}?userEmail=${user.email}`, { method: \"DELETE\" });\r\n  };\r\n  \r\n  const handleEditMessage = async (msgId: string, content: string) => {\r\n      if(!user) return;\r\n      setMessages(prev => prev.map(m => m.id === msgId ? { ...m, content, edited: true } : m));\r\n      setEditingMsgId(null);\r\n      await fetch(`/api/messages/${msgId}`, {\r\n          method: \"PATCH\", headers: {\"Content-Type\": \"application/json\"},\r\n          body: JSON.stringify({ userEmail: user.email, content })\r\n      });\r\n  };\r\n\r\n  const handleDeleteChat = async () => {\r\n      if(!confirm(\"Are you sure you want to delete this entire conversation?\")) return;\r\n      setMessages(prev => prev.filter(m => !( (m.sender === user?.email && m.receiver === selectedChatUser) || (m.sender === selectedChatUser && m.receiver === user?.email) )));\r\n  };\r\n\r\n  // --- Network Filter Logic ---\r\n  const filteredUsers = users.filter(u => {\r\n      if(u.email === user?.email) return false;\r\n      if(networkFilter === \"following\") return u.followers.includes(user?.email || \"\");\r\n      if(networkFilter === \"followers\") return u.following.includes(user?.email || \"\");\r\n      return true;\r\n  });\r\n\r\n  if (!isClient) return <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-900\" />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-900 text-neutral-900 dark:text-gray-100 font-sans transition-colors duration-300\">\r\n        <header className=\"sticky top-0 z-40 bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800 shadow-sm transition-colors duration-300\">\r\n            <div className=\"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 rounded-lg bg-green-600 flex items-center justify-center\">\r\n                        <IconUsers className=\"text-white w-5 h-5\" />\r\n                    </div>\r\n                    <span className=\"font-bold text-xl tracking-tight text-neutral-900 dark:text-white\">AgroNova Community</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                    <nav className=\"hidden md:flex space-x-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-lg\">\r\n                        {([\"feed\", \"network\", \"messages\"] as const).map(tab => (\r\n                            <button key={tab} \r\n                                onClick={() => setActiveTab(tab)}\r\n                                className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeTab === tab ? \"bg-white dark:bg-neutral-700 text-green-600 shadow-sm\" : \"text-gray-500 hover:text-gray-900 dark:hover:text-gray-200\"}`}\r\n                            >\r\n                                <span className=\"capitalize\">{tab}</span>\r\n                            </button>\r\n                        ))}\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n            {/* Mobile Nav */}\r\n             <div className=\"md:hidden flex justify-center pb-2 px-2\">\r\n                 <nav className=\"flex space-x-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-lg w-full justify-between\">\r\n                    {([\"feed\", \"network\", \"messages\"] as const).map(tab => (\r\n                        <button key={tab} onClick={() => setActiveTab(tab)} className={`flex-1 py-1.5 rounded-md text-xs font-medium transition-all ${activeTab === tab ? \"bg-white dark:bg-neutral-700 text-green-600 shadow-sm\" : \"text-gray-500\"}`}>\r\n                            <span className=\"capitalize\">{tab}</span>\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n        </header>\r\n\r\n        <main className=\"max-w-7xl mx-auto p-4 md:p-6 lg:p-8\">\r\n            <AnimatePresence mode=\"wait\">\r\n                <motion.div \r\n                    key={activeTab}\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0, y: -10 }}\r\n                    transition={{ duration: 0.2 }}\r\n                >\r\n                    {activeTab === \"feed\" && (\r\n                        <div className=\"max-w-2xl mx-auto space-y-6\">\r\n                            <CreatePostWidget user={user} refresh={fetchPosts} onPost={handleCreatePost} />\r\n                            <div className=\"space-y-4\">\r\n                                {loadingPosts ? (\r\n                                    <div className=\"space-y-4\">\r\n                                        {[1,2,3].map(i => <div key={i} className=\"h-40 bg-gray-200 dark:bg-neutral-800 rounded-xl animate-pulse\"/>)}\r\n                                    </div>\r\n                                ) : posts.length === 0 ? (\r\n                                    <div className=\"text-center py-20 text-gray-500\">No posts yet. Be the first to share!</div>\r\n                                ) : (\r\n                                    posts.map(post => (\r\n                                        <PostCard \r\n                                            key={post.id} post={post} user={user} \r\n                                            onLike={() => handleLike(post.id)}\r\n                                            onDelete={() => handleDeletePost(post.id)}\r\n                                            onComment={handleComment}\r\n                                            onDeleteComment={handleDeleteComment}\r\n                                            onEdit={handleEditPost}\r\n                                            isEditing={editingPostId === post.id}\r\n                                            setEditingPostId={setEditingPostId}\r\n                                        />\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === \"network\" && (\r\n                        <div className=\"space-y-6\">\r\n                            <div className=\"flex justify-center gap-2 mb-6\">\r\n                                {([\"all\", \"following\", \"followers\"] as const).map(f => (\r\n                                    <button \r\n                                        key={f} onClick={() => setNetworkFilter(f)}\r\n                                        className={`px-4 py-1.5 rounded-full text-sm font-semibold capitalize transition-colors ${networkFilter === f ? \"bg-green-600 text-white\" : \"bg-white dark:bg-neutral-800 text-gray-500 border border-gray-200 dark:border-neutral-700\"}`}\r\n                                    >\r\n                                        {f}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                {filteredUsers.map(u => (\r\n                                    <UserCard key={u.email} user={u} currentUser={user} onFollow={() => handleFollow(u.email)} onChat={() => handleJoinChat(u.email)} />\r\n                                ))}\r\n                                {filteredUsers.length === 0 && (\r\n                                    <div className=\"col-span-full text-center py-20 text-gray-500\">No users found in this list.</div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === \"messages\" && (\r\n                        <div className=\"h-[calc(100vh-140px)] bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-2xl overflow-hidden flex shadow-sm\">\r\n                            <div className={`w-full md:w-80 border-r border-gray-200 dark:border-neutral-800 flex flex-col bg-gray-50 dark:bg-neutral-900 ${selectedChatUser ? \"hidden md:flex\" : \"flex\"}`}>\r\n                                <div className=\"p-4 border-b border-gray-200 dark:border-neutral-800\">\r\n                                    <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Messages</h2>\r\n                                </div>\r\n                                <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\r\n                                    {users.filter(u => u.email !== user?.email).map(u => (\r\n                                        <button key={u.email} onClick={() => setSelectedChatUser(u.email)}\r\n                                            className={`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${selectedChatUser === u.email ? \"bg-green-100 dark:bg-neutral-800 text-green-900 dark:text-white\" : \"hover:bg-gray-100 dark:hover:bg-neutral-800\"}`}\r\n                                        >\r\n                                            <div className=\"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-sm font-bold text-gray-600 dark:text-gray-300\">\r\n                                                {u.name[0]}\r\n                                            </div>\r\n                                            <div className=\"flex-1 text-left\">\r\n                                                <div className=\"font-medium text-gray-900 dark:text-white\">{u.name}</div>\r\n                                                <div className=\"text-xs text-gray-500 capitalize\">{u.role}</div>\r\n                                            </div>\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className={`flex-1 flex flex-col bg-white dark:bg-neutral-900 ${!selectedChatUser ? \"hidden md:flex\" : \"flex\"}`}>\r\n                                {selectedChatUser ? (\r\n                                    <>\r\n                                        <div className=\"h-16 px-6 border-b border-gray-200 dark:border-neutral-800 flex items-center justify-between bg-white dark:bg-neutral-900\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <button onClick={() => setSelectedChatUser(null)} className=\"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-full\"><IconArrowBackUp size={20}/></button>\r\n                                                <div className=\"flex flex-col\">\r\n                                                    <span className=\"font-semibold text-gray-900 dark:text-white\">{users.find(u => u.email === selectedChatUser)?.name || selectedChatUser}</span>\r\n                                                    <span className=\"text-xs text-green-600 flex items-center gap-1\">Online</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <button onClick={handleDeleteChat} className=\"p-2 text-gray-400 hover:text-red-500 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800\" title=\"Delete Chat\">\r\n                                                <IconTrash size={20} />\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\r\n                                            {messages.filter(m => (m.sender === user?.email && m.receiver === selectedChatUser) || (m.sender === selectedChatUser && m.receiver === user?.email))\r\n                                                .map(msg => (\r\n                                                    <MessageBubble \r\n                                                        key={msg.id} message={msg} isMe={msg.sender === user?.email} \r\n                                                        replyContent={msg.replyToId ? messages.find(m => m.id === msg.replyToId)?.content : undefined}\r\n                                                        onReply={() => setReplyTo(msg)}\r\n                                                        onReact={(r: string) => handleMessageReaction(msg.id, r)}\r\n                                                        onDelete={() => handleDeleteMessage(msg.id)}\r\n                                                        onEdit={(content: string) => handleEditMessage(msg.id, content)}\r\n                                                        isEditing={editingMsgId === msg.id}\r\n                                                        setEditingMsgId={setEditingMsgId}\r\n                                                    />\r\n                                                ))}\r\n                                            <div ref={messagesEndRef} />\r\n                                        </div>\r\n                                        <div className=\"p-4 border-t border-gray-200 dark:border-neutral-800 bg-gray-50 dark:bg-neutral-900\">\r\n                                            {replyTo && (\r\n                                                <div className=\"mb-2 p-2 bg-gray-200 dark:bg-neutral-800 border-l-2 border-green-500 rounded text-sm flex justify-between items-center text-gray-600 dark:text-gray-300\">\r\n                                                    <span className=\"truncate\">Replying to: {replyTo.content.substring(0, 50)}...</span>\r\n                                                    <button onClick={() => setReplyTo(null)}><IconX size={14}/></button>\r\n                                                </div>\r\n                                            )}\r\n                                            <div className=\"flex gap-2\">\r\n                                                <input \r\n                                                    value={msgInput} onChange={e => setMsgInput(e.target.value)} \r\n                                                    onKeyDown={e => e.key === \"Enter\" && handleSendMessage()}\r\n                                                    placeholder=\"Type your message...\" \r\n                                                    className=\"flex-1 bg-white dark:bg-neutral-800 border border-gray-300 dark:border-neutral-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-900 dark:text-white\"\r\n                                                />\r\n                                                <button onClick={handleSendMessage} className=\"p-3 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-transform active:scale-95 disabled:opacity-50\" disabled={!msgInput.trim()}>\r\n                                                    <IconSend size={20} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <div className=\"flex-1 flex flex-col items-center justify-center text-gray-400 gap-4\">\r\n                                        <div className=\"w-16 h-16 bg-gray-100 dark:bg-neutral-800 rounded-full flex items-center justify-center\"><IconMessageCircle size={32}/></div>\r\n                                        <p>Select a user to chat</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </motion.div>\r\n            </AnimatePresence>\r\n        </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Components ---\r\nconst CreatePostWidget = ({ user, refresh, onPost }: any) => {\r\n    const [content, setContent] = useState(\"\");\r\n    return (\r\n        <div className=\"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-4 shadow-sm\">\r\n            <div className=\"flex gap-4\">\r\n                 <div className=\"w-10 h-10 rounded-full bg-green-100 dark:bg-neutral-800 flex items-center justify-center text-green-700 dark:text-green-400 font-bold\">\r\n                     {user?.name?.[0] || \"U\"}\r\n                 </div>\r\n                 <div className=\"flex-1\">\r\n                     <textarea \r\n                         value={content} onChange={e => setContent(e.target.value)} \r\n                         placeholder=\"What's happening?\" \r\n                         className=\"w-full bg-transparent border-none focus:ring-0 resize-none outline-none text-base placeholder-gray-400 dark:placeholder-neutral-600 min-h-[80px] text-gray-900 dark:text-white\" \r\n                     />\r\n                     <div className=\"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-neutral-800 mt-2\">\r\n                         <div className=\"flex gap-2\">\r\n                             <button className=\"p-2 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-full text-green-600\"><IconPhoto size={18}/></button>\r\n                         </div>\r\n                         <button onClick={() => { onPost(content); setContent(\"\"); }} disabled={!content.trim()} className=\"px-4 py-1.5 bg-green-600 text-white text-sm font-semibold rounded-full hover:bg-green-700 disabled:opacity-50\">Post</button>\r\n                     </div>\r\n                 </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction PostCard({ post, user, onLike, onDelete, onComment, onDeleteComment, onEdit, isEditing, setEditingPostId }: any) {\r\n    const [showComments, setShowComments] = useState(false);\r\n    const [commentText, setCommentText] = useState(\"\");\r\n    const [editContent, setEditContentState] = useState(post.content);\r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow\">\r\n            <div className=\"p-4 md:p-6\">\r\n                <div className=\"flex justify-between items-start mb-3\">\r\n                    <div className=\"flex gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center font-bold text-gray-600 dark:text-gray-300\">\r\n                            {post.userName?.[0]}\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"font-semibold text-gray-900 dark:text-white\">{post.userName}</span>\r\n                                {post.userRole === \"expert\" && <span className=\"px-1.5 py-0.5 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-[10px] rounded uppercase font-bold\">Expert</span>}\r\n                            </div>\r\n                            <div className=\"text-xs text-gray-500\">{new Date(post.date).toLocaleDateString()}</div>\r\n                        </div>\r\n                    </div>\r\n                    {user?.email === post.userEmail && (\r\n                        <div className=\"flex items-center gap-1\">\r\n                            <button onClick={() => { setEditingPostId(post.id); setEditContentState(post.content); }} className=\"p-1.5 text-gray-400 hover:text-green-600 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800\"><IconEdit size={16} /></button>\r\n                            <button onClick={onDelete} className=\"p-1.5 text-gray-400 hover:text-red-500 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800\"><IconTrash size={16} /></button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                \r\n                {isEditing ? (\r\n                    <div className=\"space-y-3 mb-4\">\r\n                        <textarea value={editContent} onChange={e => setEditContentState(e.target.value)} className=\"w-full bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-lg p-3 text-gray-900 dark:text-white\" rows={3}/>\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button onClick={() => setEditingPostId(null)} className=\"px-3 py-1 text-sm text-gray-500 hover:text-gray-900 dark:hover:text-white\">Cancel</button>\r\n                            <button onClick={() => onEdit(post.id, editContent)} className=\"px-3 py-1 text-sm bg-green-600 text-white rounded-lg\">Save</button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-gray-800 dark:text-gray-200 mb-4 whitespace-pre-wrap leading-relaxed text-base\">{post.content}</p>\r\n                )}\r\n\r\n                {post.image && <div className=\"mb-4 rounded-lg overflow-hidden border border-gray-100 dark:border-neutral-800 relative h-64 w-full\"><Image src={post.image} alt=\"Post\" fill className=\"object-cover\" /></div>}\r\n                \r\n                <div className=\"flex items-center gap-6 pt-3 border-t border-gray-100 dark:border-neutral-800\">\r\n                    <button onClick={onLike} className={`flex items-center gap-2 text-sm font-medium transition-colors ${post.likes.includes(user?.email || \"\") ? \"text-pink-500\" : \"text-gray-500 hover:text-pink-500\"}`}>\r\n                        <IconHeart size={18} className={post.likes.includes(user?.email || \"\") ? \"fill-current\" : \"\"}/> <span>{post.likes.length}</span>\r\n                    </button>\r\n                    <button onClick={() => setShowComments(!showComments)} className={`flex items-center gap-2 text-sm font-medium transition-colors ${showComments ? \"text-green-600\" : \"text-gray-500 hover:text-gray-900 dark:hover:text-white\"}`}>\r\n                        <IconMessage size={18} /> <span>{post.comments?.length || 0}</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <AnimatePresence>\r\n                    {showComments && (\r\n                        <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: \"auto\", opacity: 1 }} exit={{ height: 0, opacity: 0 }} className=\"overflow-hidden\">\r\n                            <div className=\"mt-4 space-y-3 pt-3 bg-gray-50 dark:bg-neutral-900/50 -mx-6 px-6 pb-4 border-t border-gray-100 dark:border-neutral-800\">\r\n                                {post.comments?.map((comment: any) => (\r\n                                    <div key={comment.id} className=\"flex gap-2.5\">\r\n                                        <div className=\"w-6 h-6 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-[10px] font-bold text-gray-600 dark:text-gray-300 shrink-0\">{comment.userName[0]}</div>\r\n                                        <div className=\"flex-1 bg-white dark:bg-neutral-800 rounded-xl rounded-tl-none px-3 py-2 shadow-sm border border-gray-100 dark:border-neutral-700\">\r\n                                             <div className=\"flex justify-between items-baseline\">\r\n                                                <span className=\"text-xs font-bold text-gray-900 dark:text-white\">{comment.userName}</span>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <span className=\"text-[10px] text-gray-400\">{new Date(comment.date).toLocaleDateString()}</span>\r\n                                                    {user?.email === comment.userEmail && <button onClick={() => onDeleteComment(post.id, comment.id)} className=\"text-[10px] text-red-500 hover:text-red-700\"><IconTrash size={12}/></button>}\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\"text-sm text-gray-700 dark:text-gray-300 mt-0.5\">{comment.text}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                                <div className=\"flex gap-2 mt-3 items-center\">\r\n                                    <div className=\"w-8 h-8 rounded-full bg-green-100 dark:bg-neutral-800 flex items-center justify-center text-xs font-bold text-green-700 dark:text-green-400 shrink-0\">{user?.name?.[0] || \"U\"}</div>\r\n                                    <div className=\"flex-1 flex gap-2 relative\">\r\n                                        <input value={commentText} onChange={e => setCommentText(e.target.value)} onKeyDown={e => { if(e.key === \"Enter\" && commentText.trim()) { onComment(post.id, commentText); setCommentText(\"\"); } }} placeholder=\"Write a comment...\" className=\"w-full bg-gray-100 dark:bg-neutral-800 border-none rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-green-500 text-gray-900 dark:text-white\"/>\r\n                                        <button onClick={() => { if(commentText.trim()) { onComment(post.id, commentText); setCommentText(\"\"); } }} disabled={!commentText.trim()} className=\"absolute right-2 top-1/2 -translate-y-1/2 text-green-600 hover:text-green-700 disabled:opacity-50 p-1\"><IconSend size={16}/></button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction UserCard({ user, onFollow, currentUser, onChat }: any) {\r\n    const isFollowing = user.followers.includes(currentUser?.email || \"\");\r\n    return (\r\n        <div className=\"bg-white dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800 rounded-xl p-6 flex flex-col items-center gap-4 hover:shadow-lg transition-shadow\">\r\n            <div className=\"w-16 h-16 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center text-xl font-bold text-gray-600 dark:text-gray-300\">{user.name[0]}</div>\r\n            <div className=\"text-center\">\r\n                <h3 className=\"font-bold text-lg text-gray-900 dark:text-white\">{user.name}</h3>\r\n                <p className=\"text-xs text-gray-500 uppercase tracking-widest mt-1\">{user.role}</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-4 text-sm text-gray-500\">\r\n                <span><strong className=\"text-gray-900 dark:text-white\">{user.followers.length}</strong> Followers</span>\r\n                <span><strong className=\"text-gray-900 dark:text-white\">{user.following.length}</strong> Following</span>\r\n            </div>\r\n            <div className=\"flex gap-2 w-full mt-2\">\r\n                <button onClick={onFollow} className={`flex-1 py-1.5 rounded-lg text-sm font-medium transition-all ${isFollowing ? \"bg-gray-100 dark:bg-neutral-800 text-gray-900 dark:text-white hover:bg-gray-200\" : \"bg-green-600 text-white hover:bg-green-700\"}`}>{isFollowing ? \"Following\" : \"Follow\"}</button>\r\n                <button onClick={onChat} className=\"p-2 rounded-lg bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-gray-300 hover:text-green-600 transition-colors\"><IconMessage size={18}/></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction MessageBubble({ message, isMe, onReply, replyContent, onReact, onDelete, onEdit, isEditing, setEditingMsgId }: any) {\r\n    const [editContent, setEditContent] = useState(message.content);\r\n\r\n    return (\r\n        <div className={`flex flex-col ${isMe ? \"items-end\" : \"items-start\"} relative group`}>\r\n             {replyContent && <div className={`text-xs text-gray-400 mb-1 px-2 border-l-2 ${isMe ? \"border-green-500/50 text-right pr-2\" : \"border-gray-300 pl-2\"}`}>Replying to: {replyContent.substring(0, 30)}...</div>}\r\n            <div className={`max-w-[80%] relative group/bubble w-full md:w-auto`}>\r\n                {!isEditing && (\r\n                    <div className={`absolute -top-8 ${isMe ? \"right-0\" : \"left-0\"} hidden group-hover/bubble:flex items-center gap-1 bg-white dark:bg-neutral-800 shadow-md border border-gray-200 dark:border-neutral-700 rounded-full px-2 py-1 z-10`}>\r\n                        <button onClick={onReply} className=\"p-1 text-gray-500 hover:text-green-600\" title=\"Reply\"><IconArrowBackUp size={14}/></button>\r\n                        <div className=\"flex items-center border-l border-r border-gray-200 dark:border-neutral-700 mx-1 px-1 gap-1\">\r\n                            {[\"ðŸ‘\",\"â¤ï¸\",\"ðŸ˜‚\"].map(r => <button key={r} onClick={() => onReact(r)} className=\"hover:scale-125 transition-transform\">{r}</button>)}\r\n                        </div>\r\n                        {isMe && (\r\n                            <>\r\n                                <button onClick={() => { setEditingMsgId(message.id); setEditContent(message.content); }} className=\"p-1 text-gray-500 hover:text-blue-500\" title=\"Edit\"><IconEdit size={14}/></button>\r\n                                <button onClick={onDelete} className=\"p-1 text-gray-500 hover:text-red-500\" title=\"Delete\"><IconTrash size={14}/></button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                \r\n                {isEditing ? (\r\n                    <div className=\"flex gap-2 items-center bg-white dark:bg-neutral-800 p-2 rounded-xl border border-gray-200 dark:border-neutral-700 shadow-sm\">\r\n                        <input value={editContent} onChange={e => setEditContent(e.target.value)} className=\"bg-transparent border-none focus:outline-none text-sm w-full min-w-[200px]\" autoFocus onKeyDown={e => { if(e.key === \"Enter\") onEdit(editContent); }}/>\r\n                        <button onClick={() => setEditingMsgId(null)} className=\"text-gray-400 hover:text-red-500\"><IconX size={14}/></button>\r\n                        <button onClick={() => onEdit(editContent)} className=\"text-green-600 hover:text-green-700\"><IconCheck size={14}/></button>\r\n                    </div>\r\n                ) : (\r\n                    <div className={`px-4 py-2 rounded-2xl text-sm leading-relaxed shadow-sm border relative ${isMe ? \"bg-green-600 text-white border-green-600 rounded-br-none\" : \"bg-white dark:bg-neutral-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-neutral-700 rounded-bl-none\"}`}>\r\n                        {message.content}\r\n                        <div className={`text-[10px] mt-1 text-right flex items-center justify-end gap-1 ${isMe ? \"text-green-100\" : \"text-gray-400\"}`}>\r\n                            {message.edited && <span>(edited)</span>}\r\n                            {new Date(message.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\r\n                        </div>\r\n                        {message.reaction && <div className={`absolute -bottom-2 ${isMe ? \"left-0\" : \"right-0\"} bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-full w-5 h-5 flex items-center justify-center text-xs shadow-sm`}>{message.reaction}</div>}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import createReactComponent from '../createReactComponent';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [[\"path\",{\"d\":\"M9 14l-4 -4l4 -4\",\"key\":\"svg-0\"}],[\"path\",{\"d\":\"M5 10h11a4 4 0 1 1 0 8h-1\",\"key\":\"svg-1\"}]]\n\nconst IconArrowBackUp = createReactComponent('outline', 'arrow-back-up', 'ArrowBackUp', __iconNode);\n\nexport default IconArrowBackUp;","import createReactComponent from '../createReactComponent';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [[\"path\",{\"d\":\"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572\",\"key\":\"svg-0\"}]]\n\nconst IconHeart = createReactComponent('outline', 'heart', 'Heart', __iconNode);\n\nexport default IconHeart;","import createReactComponent from '../createReactComponent';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [[\"path\",{\"d\":\"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1\",\"key\":\"svg-0\"}]]\n\nconst IconMessageCircle = createReactComponent('outline', 'message-circle', 'MessageCircle', __iconNode);\n\nexport default IconMessageCircle;","import createReactComponent from '../createReactComponent';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [[\"path\",{\"d\":\"M8 9h8\",\"key\":\"svg-0\"}],[\"path\",{\"d\":\"M8 13h6\",\"key\":\"svg-1\"}],[\"path\",{\"d\":\"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z\",\"key\":\"svg-2\"}]]\n\nconst IconMessage = createReactComponent('outline', 'message', 'Message', __iconNode);\n\nexport default IconMessage;","import createReactComponent from '../createReactComponent';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [[\"path\",{\"d\":\"M10 14l11 -11\",\"key\":\"svg-0\"}],[\"path\",{\"d\":\"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5\",\"key\":\"svg-1\"}]]\n\nconst IconSend = createReactComponent('outline', 'send', 'Send', __iconNode);\n\nexport default IconSend;","import createReactComponent from '../createReactComponent';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [[\"path\",{\"d\":\"M15 8h.01\",\"key\":\"svg-0\"}],[\"path\",{\"d\":\"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z\",\"key\":\"svg-1\"}],[\"path\",{\"d\":\"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5\",\"key\":\"svg-2\"}],[\"path\",{\"d\":\"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3\",\"key\":\"svg-3\"}]]\n\nconst IconPhoto = createReactComponent('outline', 'photo', 'Photo', __iconNode);\n\nexport default IconPhoto;"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,5,6]}