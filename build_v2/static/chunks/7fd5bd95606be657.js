(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6802,e=>{"use strict";var t=e.i(70147),r={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let s=(e,s,l,a)=>{let i=(0,t.forwardRef)(({color:l="currentColor",size:i=24,stroke:n=2,title:d,className:o,children:c,...u},h)=>(0,t.createElement)("svg",{ref:h,...r[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${s}`,o].join(" "),..."filled"===e?{fill:l}:{strokeWidth:n,stroke:l},...u},[d&&(0,t.createElement)("title",{key:"svg-title"},d),...a.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]]));return i.displayName=`${l}`,i};e.s(["default",()=>s],6802)},42317,e=>{"use strict";let t=(0,e.i(6802).default)("outline","loader","Loader",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M16.25 7.75l2.15 -2.15",key:"svg-1"}],["path",{d:"M18 12l3 0",key:"svg-2"}],["path",{d:"M16.25 16.25l2.15 2.15",key:"svg-3"}],["path",{d:"M12 18l0 3",key:"svg-4"}],["path",{d:"M7.75 16.25l-2.15 2.15",key:"svg-5"}],["path",{d:"M6 12l-3 0",key:"svg-6"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-7"}]]);e.s(["IconLoader",()=>t],42317)},78628,e=>{"use strict";let t=(0,e.i(6802).default)("outline","x","X",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);e.s(["IconX",()=>t],78628)},81395,e=>{"use strict";let t=(0,e.i(6802).default)("outline","check","Check",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);e.s(["IconCheck",()=>t],81395)},48568,e=>{"use strict";let t=(0,e.i(6802).default)("outline","alert-triangle","AlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);e.s(["IconAlertTriangle",()=>t],48568)},53763,e=>{"use strict";let t=(0,e.i(6802).default)("outline","building-store","BuildingStore",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M3 7v1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1h-18l2 -4h14l2 4",key:"svg-1"}],["path",{d:"M5 21l0 -10.15",key:"svg-2"}],["path",{d:"M19 21l0 -10.15",key:"svg-3"}],["path",{d:"M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4",key:"svg-4"}]]);e.s(["IconBuildingStore",()=>t],53763)},25922,e=>{"use strict";var t=e.i(47152),r=e.i(70147),s=e.i(85327),l=e.i(81395),a=e.i(78628),i=e.i(53763),n=e.i(48568),d=e.i(42317);function o(){let e=(0,s.useSearchParams)().get("orderId"),[o,c]=(0,r.useState)("LOADING"),[u,h]=(0,r.useState)("");(0,r.useEffect)(()=>{e?c("READY"):c("ERROR")},[e]);let[m,x]=(0,r.useState)({email:"",buyerUpi:""}),p=async()=>{if(!m.email.includes("@"))return void alert("Please enter your registered Seller Email to verify your identity.");c("LOADING");try{let t=await fetch("/api/store/order/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e,action:"VERIFY",sellerEmail:m.email,buyerUpiInput:m.buyerUpi})}),r=await t.json();r.success?"VERIFIED"===r.status?c("SUCCESS"):(c("READY"),h(""),alert(`Incorrect Buyer UPI ID. ${r.remaining} attempts remaining.`)):(c("ERROR"),h(r.error||"Verification failed."))}catch(e){c("ERROR")}},g=async()=>{if(!m.email.includes("@"))return void alert("Please enter your registered Seller Email.");if(confirm("Are you sure? This will record a strike against the buyer if repeated.")){c("LOADING");try{let t=await fetch("/api/store/order/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e,action:"REJECT",sellerEmail:m.email})}),r=await t.json();r.success?"FAILED"===r.status?(h("Order has been cancelled due to repeated failures."),c("FAILED")):(h("Issue reported. The system waits for more attempts."),c("READY"),alert(r.message)):c("ERROR")}catch(e){c("ERROR")}}};return e?(0,t.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-neutral-900 rounded-2xl shadow-xl overflow-hidden border border-neutral-200 dark:border-neutral-800",children:[(0,t.jsxs)("div",{className:"p-6 bg-blue-600 text-white text-center",children:[(0,t.jsx)(i.IconBuildingStore,{size:40,className:"mx-auto mb-2"}),(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Seller Verification Portal"}),(0,t.jsxs)("p",{className:"opacity-80 text-sm",children:["Order #",e]})]}),(0,t.jsxs)("div",{className:"p-6",children:["LOADING"===o&&(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)(d.IconLoader,{className:"animate-spin mx-auto mb-4 text-blue-600"}),(0,t.jsx)("p",{children:"Processing..."})]}),"READY"===o&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Step 1: Identify Yourself"}),(0,t.jsx)("p",{className:"text-sm text-neutral-500",children:"Enter your registered Seller Email."})]}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"email",placeholder:"e.g. kisan@agronova.com",className:"w-full p-3 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-800",value:m.email,onChange:e=>x({...m,email:e.target.value})})}),(0,t.jsx)("div",{className:"border-t border-dashed border-neutral-200 dark:border-neutral-800 my-4"}),m.email.includes("@")&&(0,t.jsxs)("div",{className:"space-y-4 animate-in slide-in-from-bottom-2 fade-in",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Step 2: Verify Payment Source"}),(0,t.jsxs)("p",{className:"text-sm text-neutral-500",children:["Check your Bank Statement. Enter the ",(0,t.jsx)("strong",{children:"Buyer's UPI ID"})," that paid you."]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",placeholder:"e.g. buyer@oksbi",className:"w-full p-3 rounded-xl border-2 border-blue-100 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-900/20 text-center font-bold tracking-wide",value:m.buyerUpi,onChange:e=>x({...m,buyerUpi:e.target.value})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,t.jsxs)("button",{onClick:g,className:"p-4 rounded-xl border-2 border-red-100 bg-red-50 text-red-600 hover:bg-red-100 hover:border-red-200 transition-all flex flex-col items-center gap-2",children:[(0,t.jsx)(a.IconX,{size:24}),(0,t.jsx)("span",{className:"font-bold text-sm",children:"No / Fraud"})]}),(0,t.jsxs)("button",{onClick:p,disabled:!m.email.includes("@")||!m.buyerUpi||m.buyerUpi.length<5,className:`p-4 rounded-xl text-white shadow-lg transition-all flex flex-col items-center gap-2 ${!m.email.includes("@")||!m.buyerUpi||m.buyerUpi.length<5?"bg-neutral-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"}`,children:[(0,t.jsx)(l.IconCheck,{size:24}),(0,t.jsx)("span",{className:"font-bold text-sm",children:"Verify Payment"})]})]})]}),"SUCCESS"===o&&(0,t.jsxs)("div",{className:"text-center py-8 animate-in zoom-in",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(l.IconCheck,{size:32,stroke:4})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-green-700",children:"Payment Verified!"}),(0,t.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:"The order is confirmed. Shipping details have been sent to your email."})]}),"FAILED"===o&&(0,t.jsxs)("div",{className:"text-center py-8 animate-in zoom-in",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(n.IconAlertTriangle,{size:32,stroke:2})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-red-700",children:"Validation Failed"}),(0,t.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:u})]}),"ERROR"===o&&(0,t.jsxs)("div",{className:"text-center py-8 text-red-500",children:[(0,t.jsx)("p",{children:u||"System Error."}),(0,t.jsx)("button",{onClick:()=>c("READY"),className:"mt-4 text-sm underline",children:"Try Again"})]})]})]})}):(0,t.jsx)("div",{className:"p-10 text-center",children:"Invalid Link"})}function c(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(o,{})})}e.s(["default",()=>c])}]);