module.exports=[4228,a=>{"use strict";var b=a.i(31834),c={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let d=(a,d,e,f)=>{let g=(0,b.forwardRef)(({color:e="currentColor",size:g=24,stroke:h=2,title:i,className:j,children:k,...l},m)=>(0,b.createElement)("svg",{ref:m,...c[a],width:g,height:g,className:["tabler-icon",`tabler-icon-${d}`,j].join(" "),..."filled"===a?{fill:e}:{strokeWidth:h,stroke:e},...l},[i&&(0,b.createElement)("title",{key:"svg-title"},i),...f.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(k)?k:[k]]));return g.displayName=`${e}`,g};a.s(["default",()=>d],4228)},12883,a=>{"use strict";let b=(0,a.i(4228).default)("outline","loader","Loader",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M16.25 7.75l2.15 -2.15",key:"svg-1"}],["path",{d:"M18 12l3 0",key:"svg-2"}],["path",{d:"M16.25 16.25l2.15 2.15",key:"svg-3"}],["path",{d:"M12 18l0 3",key:"svg-4"}],["path",{d:"M7.75 16.25l-2.15 2.15",key:"svg-5"}],["path",{d:"M6 12l-3 0",key:"svg-6"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-7"}]]);a.s(["IconLoader",()=>b],12883)},61442,a=>{"use strict";let b=(0,a.i(4228).default)("outline","x","X",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);a.s(["IconX",()=>b],61442)},53103,a=>{"use strict";let b=(0,a.i(4228).default)("outline","check","Check",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);a.s(["IconCheck",()=>b],53103)},11913,a=>{"use strict";let b=(0,a.i(4228).default)("outline","alert-triangle","AlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);a.s(["IconAlertTriangle",()=>b],11913)},28743,a=>{"use strict";let b=(0,a.i(4228).default)("outline","building-store","BuildingStore",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M3 7v1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1h-18l2 -4h14l2 4",key:"svg-1"}],["path",{d:"M5 21l0 -10.15",key:"svg-2"}],["path",{d:"M19 21l0 -10.15",key:"svg-3"}],["path",{d:"M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4",key:"svg-4"}]]);a.s(["IconBuildingStore",()=>b],28743)},31246,a=>{"use strict";var b=a.i(98009),c=a.i(31834),d=a.i(39617),e=a.i(53103),f=a.i(61442),g=a.i(28743),h=a.i(11913),i=a.i(12883);function j(){let a=(0,d.useSearchParams)().get("orderId"),[j,k]=(0,c.useState)("LOADING"),[l,m]=(0,c.useState)("");(0,c.useEffect)(()=>{a?k("READY"):k("ERROR")},[a]);let[n,o]=(0,c.useState)({email:"",buyerUpi:""}),p=async()=>{if(!n.email.includes("@"))return void alert("Please enter your registered Seller Email to verify your identity.");k("LOADING");try{let b=await fetch("/api/store/order/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:a,action:"VERIFY",sellerEmail:n.email,buyerUpiInput:n.buyerUpi})}),c=await b.json();c.success?"VERIFIED"===c.status?k("SUCCESS"):(k("READY"),m(""),alert(`Incorrect Buyer UPI ID. ${c.remaining} attempts remaining.`)):(k("ERROR"),m(c.error||"Verification failed."))}catch(a){k("ERROR")}},q=async()=>{if(!n.email.includes("@"))return void alert("Please enter your registered Seller Email.");if(confirm("Are you sure? This will record a strike against the buyer if repeated.")){k("LOADING");try{let b=await fetch("/api/store/order/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:a,action:"REJECT",sellerEmail:n.email})}),c=await b.json();c.success?"FAILED"===c.status?(m("Order has been cancelled due to repeated failures."),k("FAILED")):(m("Issue reported. The system waits for more attempts."),k("READY"),alert(c.message)):k("ERROR")}catch(a){k("ERROR")}}};return a?(0,b.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-neutral-900 rounded-2xl shadow-xl overflow-hidden border border-neutral-200 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"p-6 bg-blue-600 text-white text-center",children:[(0,b.jsx)(g.IconBuildingStore,{size:40,className:"mx-auto mb-2"}),(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Seller Verification Portal"}),(0,b.jsxs)("p",{className:"opacity-80 text-sm",children:["Order #",a]})]}),(0,b.jsxs)("div",{className:"p-6",children:["LOADING"===j&&(0,b.jsxs)("div",{className:"text-center py-10",children:[(0,b.jsx)(i.IconLoader,{className:"animate-spin mx-auto mb-4 text-blue-600"}),(0,b.jsx)("p",{children:"Processing..."})]}),"READY"===j&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Step 1: Identify Yourself"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Enter your registered Seller Email."})]}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"email",placeholder:"e.g. kisan@agronova.com",className:"w-full p-3 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-800",value:n.email,onChange:a=>o({...n,email:a.target.value})})}),(0,b.jsx)("div",{className:"border-t border-dashed border-neutral-200 dark:border-neutral-800 my-4"}),n.email.includes("@")&&(0,b.jsxs)("div",{className:"space-y-4 animate-in slide-in-from-bottom-2 fade-in",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Step 2: Verify Payment Source"}),(0,b.jsxs)("p",{className:"text-sm text-neutral-500",children:["Check your Bank Statement. Enter the ",(0,b.jsx)("strong",{children:"Buyer's UPI ID"})," that paid you."]})]}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",placeholder:"e.g. buyer@oksbi",className:"w-full p-3 rounded-xl border-2 border-blue-100 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-900/20 text-center font-bold tracking-wide",value:n.buyerUpi,onChange:a=>o({...n,buyerUpi:a.target.value})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,b.jsxs)("button",{onClick:q,className:"p-4 rounded-xl border-2 border-red-100 bg-red-50 text-red-600 hover:bg-red-100 hover:border-red-200 transition-all flex flex-col items-center gap-2",children:[(0,b.jsx)(f.IconX,{size:24}),(0,b.jsx)("span",{className:"font-bold text-sm",children:"No / Fraud"})]}),(0,b.jsxs)("button",{onClick:p,disabled:!n.email.includes("@")||!n.buyerUpi||n.buyerUpi.length<5,className:`p-4 rounded-xl text-white shadow-lg transition-all flex flex-col items-center gap-2 ${!n.email.includes("@")||!n.buyerUpi||n.buyerUpi.length<5?"bg-neutral-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"}`,children:[(0,b.jsx)(e.IconCheck,{size:24}),(0,b.jsx)("span",{className:"font-bold text-sm",children:"Verify Payment"})]})]})]}),"SUCCESS"===j&&(0,b.jsxs)("div",{className:"text-center py-8 animate-in zoom-in",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e.IconCheck,{size:32,stroke:4})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-green-700",children:"Payment Verified!"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:"The order is confirmed. Shipping details have been sent to your email."})]}),"FAILED"===j&&(0,b.jsxs)("div",{className:"text-center py-8 animate-in zoom-in",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(h.IconAlertTriangle,{size:32,stroke:2})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-red-700",children:"Validation Failed"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:l})]}),"ERROR"===j&&(0,b.jsxs)("div",{className:"text-center py-8 text-red-500",children:[(0,b.jsx)("p",{children:l||"System Error."}),(0,b.jsx)("button",{onClick:()=>k("READY"),className:"mt-4 text-sm underline",children:"Try Again"})]})]})]})}):(0,b.jsx)("div",{className:"p-10 text-center",children:"Invalid Link"})}function k(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:(0,b.jsx)(j,{})})}a.s(["default",()=>k])}];

//# sourceMappingURL=agronova_d49dc053._.js.map