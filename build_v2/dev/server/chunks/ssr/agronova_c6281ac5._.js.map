{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dhanush/agronova/components/ui/wobble-card.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport { motion } from \"motion/react\";\nimport { cn } from \"@/lib/utils\";\n\nexport const WobbleCard = ({\n  children,\n  containerClassName,\n  className,\n}: {\n  children: React.ReactNode;\n  containerClassName?: string;\n  className?: string;\n}) => {\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const [isHovering, setIsHovering] = useState(false);\n\n  const handleMouseMove = (event: React.MouseEvent<HTMLElement>) => {\n    const { clientX, clientY } = event;\n    const rect = event.currentTarget.getBoundingClientRect();\n    const x = (clientX - (rect.left + rect.width / 2)) / 20;\n    const y = (clientY - (rect.top + rect.height / 2)) / 20;\n    setMousePosition({ x, y });\n  };\n  return (\n    <motion.section\n      onMouseMove={handleMouseMove}\n      onMouseEnter={() => setIsHovering(true)}\n      onMouseLeave={() => {\n        setIsHovering(false);\n        setMousePosition({ x: 0, y: 0 });\n      }}\n      style={{\n        transform: isHovering\n          ? `translate3d(${mousePosition.x}px, ${mousePosition.y}px, 0) scale3d(1, 1, 1)`\n          : \"translate3d(0px, 0px, 0) scale3d(1, 1, 1)\",\n        transition: \"transform 0.1s ease-out\",\n      }}\n      className={cn(\n        \"mx-auto w-full bg-indigo-800  relative rounded-2xl overflow-hidden\",\n        containerClassName\n      )}\n    >\n      <div\n        className=\"relative  h-full [background-image:radial-gradient(88%_100%_at_top,rgba(255,255,255,0.5),rgba(255,255,255,0))]  sm:mx-0 sm:rounded-2xl overflow-hidden\"\n        style={{\n          boxShadow:\n            \"0 10px 32px rgba(34, 42, 53, 0.12), 0 1px 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(34, 42, 53, 0.05), 0 4px 6px rgba(34, 42, 53, 0.08), 0 24px 108px rgba(47, 48, 55, 0.10)\",\n        }}\n      >\n        <motion.div\n          style={{\n            transform: isHovering\n              ? `translate3d(${-mousePosition.x}px, ${-mousePosition.y}px, 0) scale3d(1, 1, 1)`\n              : \"translate3d(0px, 0px, 0) scale3d(1, 1, 1)\",\n            transition: \"transform 0.1s ease-out\",\n          }}\n          className={cn(\"h-full px-4 py-20 sm:px-10\", className)}\n        >\n          <Noise />\n          {children}\n        </motion.div>\n      </div>\n    </motion.section>\n  );\n};\n\nconst Noise = () => {\n  return (\n    <div\n      className=\"absolute inset-0 w-full h-full scale-[1.2] transform opacity-10 [mask-image:radial-gradient(#fff,transparent,75%)]\"\n      style={{\n        backgroundImage: \"url(/noise.webp)\",\n        backgroundSize: \"30%\",\n      }}\n    ></div>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,MAAM,aAAa,CAAC,EACzB,QAAQ,EACR,kBAAkB,EAClB,SAAS,EAKV;IACC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6NAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAChE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6NAAQ,EAAC;IAE7C,MAAM,kBAAkB,CAAC;QACvB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG;QAC7B,MAAM,OAAO,MAAM,aAAa,CAAC,qBAAqB;QACtD,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,GAAG,KAAK,KAAK,GAAG,CAAC,CAAC,IAAI;QACrD,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,GAAG,KAAK,MAAM,GAAG,CAAC,CAAC,IAAI;QACrD,iBAAiB;YAAE;YAAG;QAAE;IAC1B;IACA,qBACE,0PAAC,gNAAM,CAAC,OAAO;QACb,aAAa;QACb,cAAc,IAAM,cAAc;QAClC,cAAc;YACZ,cAAc;YACd,iBAAiB;gBAAE,GAAG;gBAAG,GAAG;YAAE;QAChC;QACA,OAAO;YACL,WAAW,aACP,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC,uBAAuB,CAAC,GAC7E;YACJ,YAAY;QACd;QACA,WAAW,IAAA,8HAAE,EACX,sEACA;kBAGF,cAAA,0PAAC;YACC,WAAU;YACV,OAAO;gBACL,WACE;YACJ;sBAEA,cAAA,0PAAC,gNAAM,CAAC,GAAG;gBACT,OAAO;oBACL,WAAW,aACP,CAAC,YAAY,EAAE,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC,cAAc,CAAC,CAAC,uBAAuB,CAAC,GAC/E;oBACJ,YAAY;gBACd;gBACA,WAAW,IAAA,8HAAE,EAAC,8BAA8B;;kCAE5C,0PAAC;;;;;oBACA;;;;;;;;;;;;;;;;;AAKX;AAEA,MAAM,QAAQ;IACZ,qBACE,0PAAC;QACC,WAAU;QACV,OAAO;YACL,iBAAiB;YACjB,gBAAgB;QAClB;;;;;;AAGN"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dhanush/agronova/app/dashboard/community/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { \r\n    IconHeart, IconMessageCircle, IconUsers, IconMessage, IconSend, \r\n    IconPhoto, IconX, IconEdit, IconTrash, IconDots, IconMoodSmile, IconArrowBackUp \r\n} from \"@tabler/icons-react\";\r\nimport Image from \"next/image\";\r\nimport { motion, AnimatePresence } from \"motion/react\";\r\nimport { WobbleCard } from \"@/components/ui/wobble-card\";\r\n\r\n// --- Types ---\r\ninterface Comment { id: string; userEmail: string; userName: string; text: string; date: string; }\r\ninterface Post { \r\n    id: string; \r\n    userEmail: string; \r\n    userName: string; \r\n    userRole: string; \r\n    content: string; \r\n    image?: string; \r\n    likes: string[]; \r\n    comments: Comment[]; \r\n    date: string; \r\n}\r\ninterface Message { \r\n    id: string; \r\n    sender: string; \r\n    receiver: string; \r\n    content: string; \r\n    timestamp: string; \r\n    read?: boolean;\r\n    reactions?: Record<string, string>;\r\n    replyToId?: string;\r\n    edited?: boolean;\r\n}\r\ninterface SocialUser { name: string; email: string; role: string; followers: string[]; following: string[]; }\r\n\r\nexport default function CommunityPage() {\r\n  const { user } = useAuth();\r\n  const [activeTab, setActiveTab] = useState<\"feed\" | \"network\" | \"messages\">(\"feed\");\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  // Feed State\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loadingPosts, setLoadingPosts] = useState(true);\r\n  const [editingPostId, setEditingPostId] = useState<string | null>(null);\r\n\r\n  // Network State\r\n  const [users, setUsers] = useState<SocialUser[]>([]);\r\n  \r\n  // Messages State\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [selectedChatUser, setSelectedChatUser] = useState<string | null>(null);\r\n  const [msgInput, setMsgInput] = useState(\"\");\r\n  const [replyTo, setReplyTo] = useState<Message | null>(null);\r\n\r\n  const pollingRef = useRef<NodeJS.Timeout | null>(null);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => { setIsClient(true); }, []);\r\n\r\n  useEffect(() => {\r\n    if(!isClient) return;\r\n    fetchPosts();\r\n    fetchUsers();\r\n    pollingRef.current = setInterval(() => {\r\n        if (user && activeTab === \"messages\") fetchMessages();\r\n    }, 3000); \r\n    return () => { if(pollingRef.current) clearInterval(pollingRef.current); };\r\n  }, [user, activeTab, isClient]);\r\n\r\n  useEffect(() => {\r\n      if(activeTab === 'messages' && isClient) scrollToBottom();\r\n  }, [messages.length, selectedChatUser, activeTab, isClient]);\r\n\r\n  const scrollToBottom = () => messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n\r\n  // --- API Calls ---\r\n  const fetchPosts = async () => {\r\n    setLoadingPosts(true);\r\n    try { const res = await fetch(\"/api/community/posts\"); setPosts(await res.json()); } \r\n    catch(e) {} finally { setLoadingPosts(false); }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try { const res = await fetch(\"/api/users\"); setUsers(await res.json()); } catch(e) {}\r\n  };\r\n\r\n  const fetchMessages = async () => {\r\n      if(!user) return;\r\n      try { const res = await fetch(`/api/messages?email=${user.email}`); setMessages(await res.json()); } catch(e) {}\r\n  };\r\n\r\n  // --- Actions ---\r\n  const handleFollow = async (targetEmail: string) => {\r\n      if(!user) return;\r\n      setUsers(prev => prev.map(u => {\r\n          if(u.email === targetEmail) {\r\n               const isFollowing = u.followers.includes(user.email);\r\n               return { ...u, followers: isFollowing ? u.followers.filter(e => e !== user.email) : [...u.followers, user.email] };\r\n          }\r\n          if(u.email === user.email) {\r\n              const followingTarget = u.following.includes(targetEmail);\r\n              return { ...u, following: followingTarget ? u.following.filter(e => e !== targetEmail) : [...u.following, targetEmail] };\r\n          }\r\n          return u;\r\n      }));\r\n      await fetch(\"/api/users/follow\", { \r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ userEmail: user.email, targetEmail })\r\n      });\r\n  };\r\n\r\n  const handleCreatePost = async (content: string, image?: string) => {\r\n      if(!user) return;\r\n      await fetch(\"/api/community/posts\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ userEmail: user.email, userName: user.name || \"Farmer\", userRole: \"farmer\", content, image })\r\n      });\r\n      fetchPosts();\r\n  };\r\n\r\n  const handleLike = async (postId: string) => {\r\n      if(!user) return;\r\n      setPosts(prev => prev.map(p => p.id === postId ? {\r\n          ...p, likes: p.likes.includes(user.email) ? p.likes.filter(e => e !== user.email) : [...p.likes, user.email]\r\n      } : p));\r\n      await fetch(\"/api/community/posts/like\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ postId, userEmail: user.email })\r\n      });\r\n  };\r\n\r\n  const handleDeletePost = async (postId: string) => {\r\n      if(!confirm(\"Delete this post?\")) return;\r\n      setPosts(prev => prev.filter(p => p.id !== postId));\r\n      await fetch(`/api/community/posts?id=${postId}`, { method: \"DELETE\" });\r\n  };\r\n\r\n  const handleComment = async (postId: string, text: string) => {\r\n      if(!user) return;\r\n      const newComment: Comment = { id: Date.now().toString(), userEmail: user.email, userName: user.name || \"User\", text, date: new Date().toISOString() };\r\n      setPosts(prev => prev.map(p => p.id === postId ? { ...p, comments: [...p.comments, newComment] } : p));\r\n      await fetch(\"/api/community/posts/comment\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ postId, userEmail: user.email, userName: user.name, text })\r\n      });\r\n  };\r\n\r\n  const handleDeleteComment = async (postId: string, commentId: string) => {\r\n      if(!confirm(\"Delete this comment?\")) return;\r\n      setPosts(prev => prev.map(p => p.id === postId ? { ...p, comments: p.comments.filter(c => c.id !== commentId) } : p));\r\n      await fetch(`/api/community/posts/comment?postId=${postId}&commentId=${commentId}`, { method: \"DELETE\" });\r\n  };\r\n\r\n  const handleEditPost = async (postId: string, content: string) => {\r\n      if(!user) return;\r\n      setPosts(prev => prev.map(p => p.id === postId ? { ...p, content } : p));\r\n      setEditingPostId(null);\r\n      await fetch(`/api/community/posts`, {\r\n        method: \"PUT\", headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ postId, content })\r\n      });\r\n  };\r\n\r\n  const handleJoinChat = (targetUserEmail: string) => {\r\n      setSelectedChatUser(targetUserEmail);\r\n      setActiveTab(\"messages\");\r\n      fetchMessages();\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n      if(!user || !selectedChatUser || !msgInput.trim()) return;\r\n      const optimisticMsg: Message = {\r\n          id: Date.now().toString(), sender: user.email, receiver: selectedChatUser, content: msgInput, timestamp: new Date().toISOString(), replyToId: replyTo?.id\r\n      };\r\n      setMessages(prev => [...prev, optimisticMsg]);\r\n      setMsgInput(\"\");\r\n      setReplyTo(null);\r\n      scrollToBottom();\r\n      await fetch(\"/api/messages\", {\r\n          method: \"POST\", headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ sender: user.email, receiver: selectedChatUser, content: optimisticMsg.content, replyToId: optimisticMsg.replyToId })\r\n      });\r\n      fetchMessages(); // Sync\r\n  };\r\n\r\n  if (!isClient) return <div className=\"min-h-screen bg-neutral-950\" />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-neutral-950 text-white font-sans selection:bg-green-500/30\">\r\n        {/* Header - Glassmorphism */}\r\n        <header className=\"sticky top-0 z-50 bg-neutral-950/80 backdrop-blur-xl border-b border-white/10\">\r\n            <div className=\"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-700 flex items-center justify-center\">\r\n                        <IconUsers className=\"text-white w-5 h-5\" />\r\n                    </div>\r\n                    <span className=\"font-bold text-xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-neutral-400\">Community</span>\r\n                </div>\r\n                <nav className=\"flex bg-white/5 p-1 rounded-full border border-white/5 backdrop-blur-md\">\r\n                    {([\"feed\", \"network\", \"messages\"] as const).map(tab => (\r\n                        <button key={tab} \r\n                            onClick={() => setActiveTab(tab)}\r\n                            className={`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 relative ${activeTab === tab ? \"text-neutral-950\" : \"text-neutral-400 hover:text-white\"}`}\r\n                        >\r\n                            {activeTab === tab && (\r\n                                <motion.div layoutId=\"activeTab\" className=\"absolute inset-0 bg-green-500 rounded-full\" style={{ borderRadius: 999 }} transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }} />\r\n                            )}\r\n                            <span className=\"relative z-10 capitalize\">{tab}</span>\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n        </header>\r\n\r\n        <main className=\"max-w-7xl mx-auto p-6 md:p-8\">\r\n            <AnimatePresence mode=\"wait\">\r\n                <motion.div \r\n                    key={activeTab}\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0, y: -10 }}\r\n                    transition={{ duration: 0.4 }}\r\n                >\r\n                    {activeTab === \"feed\" && (\r\n                        <div className=\"max-w-3xl mx-auto space-y-8\">\r\n                            <CreatePostWidget user={user} refresh={fetchPosts} onPost={handleCreatePost} />\r\n                            <div className=\"space-y-6\">\r\n                                {loadingPosts ? (\r\n                                    <div className=\"text-center py-20 text-neutral-500 animate-pulse\">Loading community feed...</div>\r\n                                ) : posts.map(post => (\r\n                                    <PostCard \r\n                                        key={post.id} post={post} user={user} \r\n                                        onLike={() => handleLike(post.id)}\r\n                                        onDelete={() => handleDeletePost(post.id)}\r\n                                        onComment={handleComment}\r\n                                        onDeleteComment={handleDeleteComment}\r\n                                        onEdit={handleEditPost}\r\n                                        isEditing={editingPostId === post.id}\r\n                                        setEditingPostId={setEditingPostId}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === \"network\" && (\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                            {users.filter(u => u.email !== user?.email).map(u => (\r\n                                <UserCard key={u.email} user={u} currentUser={user} onFollow={() => handleFollow(u.email)} onChat={() => handleJoinChat(u.email)} />\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === \"messages\" && (\r\n                        <div className=\"h-[calc(100vh-140px)] bg-neutral-900/50 backdrop-blur-md border border-white/10 rounded-3xl overflow-hidden flex shadow-2xl\">\r\n                            {/* Sidebar */}\r\n                            <div className={`w-full md:w-80 border-r border-white/10 flex flex-col ${selectedChatUser ? \"hidden md:flex\" : \"flex\"}`}>\r\n                                <div className=\"p-4 border-b border-white/10\">\r\n                                    <h2 className=\"text-lg font-semibold text-white\">Messages</h2>\r\n                                </div>\r\n                                <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\r\n                                    {users.filter(u => u.email !== user?.email).map(u => (\r\n                                        <button key={u.email} onClick={() => setSelectedChatUser(u.email)}\r\n                                            className={`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${selectedChatUser === u.email ? \"bg-green-500/10 border border-green-500/50\" : \"hover:bg-white/5 border border-transparent\"}`}\r\n                                        >\r\n                                            <div className=\"w-10 h-10 rounded-full bg-gradient-to-tr from-neutral-700 to-neutral-600 flex items-center justify-center text-sm font-bold border border-white/10\">\r\n                                                {u.name[0]}\r\n                                            </div>\r\n                                            <div className=\"flex-1 text-left\">\r\n                                                <div className=\"font-medium text-white\">{u.name}</div>\r\n                                                <div className=\"text-xs text-neutral-400 capitalize\">{u.role}</div>\r\n                                            </div>\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            {/* Chat Area */}\r\n                            <div className={`flex-1 flex flex-col bg-neutral-950/50 ${!selectedChatUser ? \"hidden md:flex\" : \"flex\"}`}>\r\n                                {selectedChatUser ? (\r\n                                    <>\r\n                                        <div className=\"h-16 px-6 border-b border-white/10 flex items-center justify-between bg-neutral-900/80 backdrop-blur-sm\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <button onClick={() => setSelectedChatUser(null)} className=\"md:hidden p-2 hover:bg-white/10 rounded-full\"><IconArrowBackUp size={20}/></button>\r\n                                                <div className=\"flex flex-col\">\r\n                                                    <span className=\"font-semibold text-white\">{users.find(u => u.email === selectedChatUser)?.name || selectedChatUser}</span>\r\n                                                    <span className=\"text-xs text-green-400 flex items-center gap-1\"><span className=\"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse\"/> Online</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-hide\">\r\n                                            {messages.filter(m => (m.sender === user?.email && m.receiver === selectedChatUser) || (m.sender === selectedChatUser && m.receiver === user?.email))\r\n                                                .map(msg => (\r\n                                                    <MessageBubble \r\n                                                        key={msg.id} message={msg} isMe={msg.sender === user?.email} \r\n                                                        replyContent={msg.replyToId ? messages.find(m => m.id === msg.replyToId)?.content : undefined}\r\n                                                        onReply={() => setReplyTo(msg)}\r\n                                                    />\r\n                                                ))}\r\n                                            <div ref={messagesEndRef} />\r\n                                        </div>\r\n                                        <div className=\"p-4 border-t border-white/10 bg-neutral-900/80 backdrop-blur-md\">\r\n                                            {replyTo && (\r\n                                                <div className=\"mb-2 p-2 bg-green-500/10 border-l-2 border-green-500 rounded text-sm flex justify-between items-center text-green-300\">\r\n                                                    <span className=\"truncate\">Replying to: {replyTo.content.substring(0, 50)}...</span>\r\n                                                    <button onClick={() => setReplyTo(null)}><IconX size={14}/></button>\r\n                                                </div>\r\n                                            )}\r\n                                            <div className=\"flex gap-2\">\r\n                                                <input \r\n                                                    value={msgInput} onChange={e => setMsgInput(e.target.value)} \r\n                                                    onKeyDown={e => e.key === \"Enter\" && handleSendMessage()}\r\n                                                    placeholder=\"Type your message...\" \r\n                                                    className=\"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500/50 text-white placeholder-neutral-500 transition-all\"\r\n                                                />\r\n                                                <button onClick={handleSendMessage} className=\"p-3 bg-green-500 hover:bg-green-600 text-neutral-950 rounded-xl transition-transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\" disabled={!msgInput.trim()}>\r\n                                                    <IconSend size={20} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <div className=\"flex-1 flex flex-col items-center justify-center text-neutral-500 gap-4\">\r\n                                        <div className=\"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center\"><IconMessageCircle size={32}/></div>\r\n                                        <p>Select a farmer or expert to start chatting</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </motion.div>\r\n            </AnimatePresence>\r\n        </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Components ---\r\n\r\nconst CreatePostWidget = ({ user, refresh, onPost }: any) => {\r\n    const [content, setContent] = useState(\"\");\r\n    return (\r\n        <WobbleCard containerClassName=\"bg-neutral-900/50 backdrop-blur-md border border-white/10 p-0 overflow-hidden shadow-xl group\">\r\n            <div className=\"p-6\">\r\n                <div className=\"flex gap-4\">\r\n                     <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-700 flex items-center justify-center text-white font-bold text-lg shadow-lg\">\r\n                         {user?.name?.[0] || \"U\"}\r\n                     </div>\r\n                     <div className=\"flex-1 space-y-4\">\r\n                         <textarea \r\n                             value={content} onChange={e => setContent(e.target.value)} \r\n                             placeholder=\"What's growing on your farm?\" \r\n                             className=\"w-full bg-transparent border-none focus:ring-0 resize-none outline-none text-lg placeholder-neutral-500 min-h-[80px]\" \r\n                         />\r\n                         <div className=\"flex justify-between items-center pt-4 border-t border-white/10\">\r\n                             <div className=\"flex gap-2\">\r\n                                 <button className=\"p-2 hover:bg-white/5 rounded-full text-green-400 transition-colors\"><IconPhoto size={20}/></button>\r\n                                 <button className=\"p-2 hover:bg-white/5 rounded-full text-neutral-400 hover:text-white transition-colors\"><IconMoodSmile size={20}/></button>\r\n                             </div>\r\n                             <button \r\n                                 onClick={() => { onPost(content); setContent(\"\"); }}\r\n                                 disabled={!content.trim()}\r\n                                 className=\"px-6 py-2 bg-white text-black font-semibold rounded-full hover:bg-neutral-200 transition-transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                             >\r\n                                 Post\r\n                             </button>\r\n                         </div>\r\n                     </div>\r\n                </div>\r\n            </div>\r\n        </WobbleCard>\r\n    );\r\n};\r\n\r\nfunction PostCard({ post, user, onLike, onDelete, onComment, onDeleteComment, onEdit, isEditing, setEditingPostId }: any) {\r\n    const [showComments, setShowComments] = useState(false);\r\n    const [commentText, setCommentText] = useState(\"\");\r\n    const [editContent, setEditContentState] = useState(post.content);\r\n\r\n    return (\r\n        <WobbleCard containerClassName=\"bg-black/40 backdrop-blur-sm border border-white/10 p-0 overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300\">\r\n            <div className=\"p-6\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                    <div className=\"flex gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-neutral-800 border border-white/10 flex items-center justify-center font-bold text-neutral-400 text-lg\">\r\n                            {post.userName?.[0]}\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"font-semibold text-white\">{post.userName}</span>\r\n                                {post.userRole === \"expert\" && <span className=\"px-1.5 py-0.5 bg-green-500/20 text-green-400 text-[10px] rounded uppercase font-bold tracking-wider\">Expert</span>}\r\n                            </div>\r\n                            <div className=\"text-xs text-neutral-500\">{new Date(post.date).toLocaleDateString()}</div>\r\n                        </div>\r\n                    </div>\r\n                    {user?.email === post.userEmail && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <button onClick={() => { setEditingPostId(post.id); setEditContentState(post.content); }} className=\"text-neutral-500 hover:text-green-400 transition-colors\"><IconEdit size={18} /></button>\r\n                            <button onClick={onDelete} className=\"text-neutral-500 hover:text-red-400 transition-colors\"><IconTrash size={18} /></button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                \r\n                {isEditing ? (\r\n                    <div className=\"space-y-3 mb-4\">\r\n                        <textarea \r\n                            value={editContent} onChange={e => setEditContentState(e.target.value)} \r\n                            className=\"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white focus:outline-none focus:border-green-500/50\"\r\n                            rows={3}\r\n                        />\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button onClick={() => setEditingPostId(null)} className=\"px-3 py-1 text-sm text-neutral-400 hover:text-white\">Cancel</button>\r\n                            <button onClick={() => onEdit(post.id, editContent)} className=\"px-3 py-1 text-sm bg-green-600 text-white rounded-lg\">Save</button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-neutral-200 mb-4 whitespace-pre-wrap leading-relaxed text-base\">{post.content}</p>\r\n                )}\r\n\r\n                {post.image && <div className=\"mb-4 rounded-xl overflow-hidden shadow-md border border-white/5 relative h-64 w-full\"><Image src={post.image} alt=\"Post\" fill className=\"object-cover\" /></div>}\r\n                \r\n                <div className=\"flex items-center gap-6 pt-4 border-t border-white/5\">\r\n                    <button onClick={onLike} className={`flex items-center gap-2 text-sm font-medium transition-colors ${post.likes.includes(user?.email || \"\") ? \"text-pink-500\" : \"text-neutral-400 hover:text-pink-400\"}`}>\r\n                        <IconHeart size={20} className={post.likes.includes(user?.email || \"\") ? \"fill-current\" : \"\"}/> <span>{post.likes.length}</span>\r\n                    </button>\r\n                    <button onClick={() => setShowComments(!showComments)} className={`flex items-center gap-2 text-sm font-medium transition-colors ${showComments ? \"text-green-400\" : \"text-neutral-400 hover:text-white\"}`}>\r\n                        <IconMessage size={20} /> <span>{post.comments?.length || 0}</span>\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Comments Section */}\r\n                <AnimatePresence>\r\n                    {showComments && (\r\n                        <motion.div \r\n                            initial={{ height: 0, opacity: 0 }} \r\n                            animate={{ height: \"auto\", opacity: 1 }} \r\n                            exit={{ height: 0, opacity: 0 }}\r\n                            className=\"overflow-hidden\"\r\n                        >\r\n                            <div className=\"mt-4 space-y-4 pt-4 border-t border-white/5 bg-black/20 -mx-6 px-6 pb-6\">\r\n                                {post.comments?.map((comment: any) => (\r\n                                    <div key={comment.id} className=\"flex gap-3 group/comment\">\r\n                                        <div className=\"w-8 h-8 rounded-full bg-neutral-800 flex items-center justify-center text-xs font-bold text-neutral-400 shrink-0\">\r\n                                            {comment.userName[0]}\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <div className=\"bg-white/5 rounded-2xl rounded-tl-none px-3 py-2\">\r\n                                                <div className=\"flex justify-between items-baseline\">\r\n                                                    <span className=\"text-xs font-bold text-white\">{comment.userName}</span>\r\n                                                    <span className=\"text-[10px] text-neutral-500\">{new Date(comment.date).toLocaleDateString()}</span>\r\n                                                </div>\r\n                                                <p className=\"text-sm text-neutral-300 mt-1\">{comment.text}</p>\r\n                                            </div>\r\n                                            <div className=\"flex gap-4 mt-1 ml-2\">\r\n                                                {user?.email === comment.userEmail && (\r\n                                                    <button onClick={() => onDeleteComment(post.id, comment.id)} className=\"text-[10px] text-neutral-500 hover:text-red-400\">Delete</button>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                                <div className=\"flex gap-3 mt-4\">\r\n                                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-emerald-700 shrink-0 flex items-center justify-center text-xs font-bold text-white\">\r\n                                        {user?.name?.[0] || \"U\"}\r\n                                    </div>\r\n                                    <div className=\"flex-1 relative\">\r\n                                        <input \r\n                                            value={commentText} onChange={e => setCommentText(e.target.value)}\r\n                                            onKeyDown={e => { if(e.key === \"Enter\" && commentText.trim()) { onComment(post.id, commentText); setCommentText(\"\"); } }}\r\n                                            placeholder=\"Write a comment...\"\r\n                                            className=\"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 pr-10 text-sm focus:outline-none focus:border-green-500/50 text-white placeholder-neutral-500\"\r\n                                        />\r\n                                        <button \r\n                                            onClick={() => { if(commentText.trim()) { onComment(post.id, commentText); setCommentText(\"\"); } }}\r\n                                            disabled={!commentText.trim()}\r\n                                            className=\"absolute right-2 top-1/2 -translate-y-1/2 text-green-500 hover:text-green-400 disabled:opacity-50\"\r\n                                        >\r\n                                            <IconSend size={16}/>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </WobbleCard>\r\n    );\r\n}\r\n\r\nfunction UserCard({ user, onFollow, currentUser, onChat }: any) {\r\n    const isFollowing = user.followers.includes(currentUser?.email || \"\");\r\n    return (\r\n        <WobbleCard containerClassName=\"h-full bg-neutral-900/50 backdrop-blur-md border border-white/10 p-0 flex flex-col items-center justify-center gap-4 group\">\r\n            <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-neutral-800 to-neutral-700 flex items-center justify-center text-2xl font-bold border-4 border-neutral-900 shadow-xl group-hover:scale-110 transition-transform\">\r\n                {user.name[0]}\r\n            </div>\r\n            <div className=\"text-center\">\r\n                <h3 className=\"font-bold text-lg text-white group-hover:text-green-400 transition-colors\">{user.name}</h3>\r\n                <p className=\"text-xs text-neutral-400 uppercase tracking-widest\">{user.role}</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-4 text-sm text-neutral-500\">\r\n                <span><strong className=\"text-white\">{user.followers.length}</strong> Followers</span>\r\n                <span><strong className=\"text-white\">{user.following.length}</strong> Following</span>\r\n            </div>\r\n            <div className=\"flex gap-3 w-full px-6 pb-6 mt-2\">\r\n                <button onClick={onFollow} className={`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${isFollowing ? \"bg-white/5 text-white hover:bg-white/10 border border-white/10\" : \"bg-white text-black hover:bg-neutral-200\"}`}>\r\n                    {isFollowing ? \"Following\" : \"Follow\"}\r\n                </button>\r\n                <button onClick={onChat} className=\"p-2 rounded-lg bg-green-500/10 text-green-400 border border-green-500/20 hover:bg-green-500/20 transition-colors\">\r\n                    <IconMessage size={20}/>\r\n                </button>\r\n            </div>\r\n        </WobbleCard>\r\n    );\r\n}\r\n\r\nfunction MessageBubble({ message, isMe, onReply, replyContent }: any) {\r\n    const [hover, setHover] = useState(false);\r\n    return (\r\n        <motion.div \r\n            initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n            animate={{ opacity: 1, y: 0, scale: 1 }}\r\n            className={`flex flex-col ${isMe ? \"items-end\" : \"items-start\"} relative group`}\r\n            onMouseEnter={() => setHover(true)} onMouseLeave={() => setHover(false)}\r\n        >\r\n             {replyContent && (\r\n                <div className={`text-xs text-neutral-400 mb-1 px-2 border-l-2 ${isMe ? \"border-green-500/50 text-right pr-2\" : \"border-neutral-500/50 pl-2\"}`}>\r\n                    Replying to: {replyContent.substring(0, 30)}...\r\n                </div>\r\n            )}\r\n            <div className={`max-w-[80%] px-4 py-3 rounded-2xl text-sm leading-relaxed shadow-sm relative backdrop-blur-sm border ${\r\n                isMe \r\n                ? \"bg-green-600/90 text-white border-green-500/50 rounded-br-none\" \r\n                : \"bg-neutral-800/90 text-neutral-200 border-white/10 rounded-bl-none\"\r\n            }`}>\r\n                {message.content}\r\n                <div className=\"text-[10px] opacity-50 mt-1 min-w-[50px] text-right\">\r\n                    {new Date(message.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\r\n                </div>\r\n            </div>\r\n            \r\n            {/* Actions for messages */}\r\n            {hover && (\r\n                <div className={`absolute top-0 ${isMe ? \"-left-8\" : \"-right-8\"} flex flex-col gap-1`}>\r\n                     <button onClick={onReply} className=\"p-1 text-neutral-500 hover:text-white bg-black/50 rounded-full transition-colors\"><IconArrowBackUp size={14}/></button>\r\n                </div>\r\n            )}\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}