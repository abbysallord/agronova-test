(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46812,e=>{"use strict";let t=(0,e.i(6802).default)("outline","map-pin","MapPin",[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]]);e.s(["IconMapPin",()=>t],46812)},30524,e=>{"use strict";let t=(0,e.i(6802).default)("outline","trending-up","TrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);e.s(["IconTrendingUp",()=>t],30524)},49171,e=>{"use strict";let t=(0,e.i(6802).default)("outline","search","Search",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);e.s(["IconSearch",()=>t],49171)},98210,e=>{"use strict";var t=e.i(47152),a=e.i(70147),r=e.i(49171),s=e.i(30524),l=e.i(6802);let n=(0,l.default)("outline","trending-down","TrendingDown",[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]]);var d=e.i(46812);let i=(0,l.default)("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);function c(){let[e,l]=(0,a.useState)(""),[c,x]=(0,a.useState)("All States"),[u,p]=(0,a.useState)(!1),[h,m]=(0,a.useState)([{name:"Tomato",variety:"Hybrid",market:"Kolar Mandi",state:"Karnataka",price:1800,change:-12},{name:"Onion",variety:"Red Nasik",market:"Lasalgaon",state:"Maharashtra",price:2500,change:8.5},{name:"Potato",variety:"Desi",market:"Agra",state:"Uttar Pradesh",price:1200,change:5.4},{name:"Wheat",variety:"Sharbati",market:"Khanna",state:"Punjab",price:2300,change:1.5},{name:"Cotton",variety:"Long Staple",market:"Rajkot",state:"Gujarat",price:6200,change:.8},{name:"Rice (Paddy)",variety:"Basmati",market:"Karnal",state:"Haryana",price:3400,change:-.5}]),g=async()=>{if(e.trim()){p(!0);try{let t=await fetch("/api/market-price",{method:"POST",body:JSON.stringify({crop:e,state:c})}),a=await t.json();if(a.market_data){let e=a.market_data.map(e=>({...e,source:a.source||"Unknown",source_url:a.source_url,source_domain:a.source_domain}));m(e)}}catch(e){console.error("Failed to fetch prices",e)}finally{p(!1)}}};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-teal-500 bg-clip-text text-transparent",children:"Market Price"}),(0,t.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2 text-balance",children:"Find the best selling price. Spot food deficits and sell where demand is high."})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto bg-white dark:bg-neutral-900 p-2 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm transition-all focus-within:ring-2 focus-within:ring-emerald-500/20",children:[(0,t.jsxs)("div",{className:"relative w-full md:min-w-[300px]",children:[(0,t.jsx)(r.IconSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 h-4 w-4"}),(0,t.jsx)("input",{type:"text",placeholder:"Search crop (e.g. Ginger)...",className:"w-full pl-9 pr-4 py-2 bg-transparent text-sm outline-none text-neutral-800 dark:text-neutral-200 placeholder:text-neutral-400",value:e,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&g()})]}),(0,t.jsx)("div",{className:"h-px md:h-8 w-full md:w-px bg-neutral-200 dark:bg-neutral-800"}),(0,t.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,t.jsx)(d.IconMapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 h-4 w-4"}),(0,t.jsx)("select",{className:"w-full pl-9 pr-8 py-2 bg-transparent text-sm outline-none appearance-none text-neutral-800 dark:text-neutral-200 cursor-pointer",value:c,onChange:e=>x(e.target.value),children:["All States","Andhra Pradesh","Bihar","Gujarat","Haryana","Karnataka","Madhya Pradesh","Maharashtra","Punjab","Rajasthan","Tamil Nadu","Uttar Pradesh","West Bengal"].map(e=>(0,t.jsx)("option",{value:e,className:"bg-white dark:bg-neutral-900",children:e},e))}),(0,t.jsx)(i,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 h-3 w-3 pointer-events-none"})]}),(0,t.jsx)("button",{onClick:g,disabled:u,className:"bg-neutral-900 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-neutral-800 disabled:opacity-50 transition-colors",children:u?"Searching...":"Search"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-neutral-800 dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(s.IconTrendingUp,{className:"text-emerald-500",size:20}),"Trending High Demand"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(o,{name:"Onion",market:"Lasalgaon, MH",price:"â‚¹2,500",change:"+8.5%",isUp:!0}),(0,t.jsx)(o,{name:"Tomato",market:"Kolar, KA",price:"â‚¹1,800",change:"-12%",isUp:!1}),(0,t.jsx)(o,{name:"Potato",market:"Agra, UP",price:"â‚¹1,200",change:"+5.4%",isUp:!0}),(0,t.jsx)(o,{name:"Cotton",market:"Rajkot, GJ",price:"â‚¹6,200",change:"+0.8%",isUp:!0})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800 overflow-hidden shadow-xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-neutral-800 dark:text-white",children:"Real-time Mandi Rates"}),(0,t.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:["Comparing prices across ",h.length," markets"]})]}),h.length>0&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:h[0].source&&h[0].source.includes("Government")?(0,t.jsxs)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-bold rounded-full border border-green-200 dark:border-green-800 flex items-center gap-1",children:[(0,t.jsx)(s.IconTrendingUp,{size:12})," Official Gov Data"]}):h[0].source&&h[0].source.includes("AI")?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h[0].source_domain&&(0,t.jsxs)("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 text-xs font-bold rounded-full border border-purple-200 dark:border-purple-800 flex items-center gap-1",children:["ðŸŒ From ",h[0].source_domain]}),h[0].source_url&&(0,t.jsxs)("a",{href:h[0].source_url,target:"_blank",rel:"noreferrer",className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-bold rounded-full border border-blue-200 dark:border-blue-800 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors flex items-center gap-1 max-w-[150px] truncate",title:"View Source Article",children:[(0,t.jsx)(r.IconSearch,{size:12})," View Source"]})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-bold rounded-full border border-amber-200 dark:border-amber-800 flex items-center gap-1",children:"âš ï¸  AI Estimate (Gov API Limit)"}),(0,t.jsxs)("a",{href:`https://www.google.com/search?q=current+market+price+of+${e}+in+${c}`,target:"_blank",rel:"noreferrer",className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-bold rounded-full border border-blue-200 dark:border-blue-800 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors flex items-center gap-1",children:[(0,t.jsx)(r.IconSearch,{size:12})," Verify on Google"]})]})})]}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full text-left text-sm text-neutral-600 dark:text-neutral-400",children:[(0,t.jsx)("thead",{className:"bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 text-neutral-500 uppercase text-xs font-bold tracking-wider",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Crop Name"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Variety"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Market (Mandi)"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"State"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Price (â‚¹/qt)"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Trend"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:h.map((a,r)=>(0,t.jsxs)("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 font-bold text-neutral-800 dark:text-white",children:a.name||e}),(0,t.jsx)("td",{className:"px-6 py-4",children:a.variety||"Local"}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center text-neutral-500",children:(0,t.jsx)(d.IconMapPin,{size:14})}),a.market]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 rounded-md text-xs font-medium border border-neutral-200 dark:border-neutral-700",children:a.state})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("span",{className:"text-base font-bold text-neutral-900 dark:text-white",children:["â‚¹",a.price.toLocaleString()]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right font-medium",children:(0,t.jsxs)("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${a.change>0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[a.change>0?(0,t.jsx)(s.IconTrendingUp,{size:12}):(0,t.jsx)(n,{size:12}),Math.abs(a.change),"%"]})})]},r))})]}),0===h.length&&(0,t.jsxs)("div",{className:"p-12 text-center text-neutral-500 flex flex-col items-center gap-4",children:[(0,t.jsx)(r.IconSearch,{size:48,className:"text-neutral-300"}),(0,t.jsxs)("p",{children:['No market data found for "',e,'" in ',c,"."]}),(0,t.jsx)("button",{onClick:()=>{l(""),x("All States")},className:"text-emerald-600 font-medium hover:underline",children:"Clear Filters"})]})]})]})]})}let o=({name:e,market:a,price:r,change:l,isUp:i})=>(0,t.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-2xl border border-neutral-200 dark:border-neutral-800 shadow-xl hover:shadow-2xl transition-all duration-300 group cursor-pointer relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:i?(0,t.jsx)(s.IconTrendingUp,{size:64}):(0,t.jsx)(n,{size:64})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-neutral-500 font-medium uppercase tracking-wider",children:"Top Gainer"}),(0,t.jsx)("p",{className:"text-lg font-bold text-neutral-800 dark:text-white mt-0.5",children:e})]}),(0,t.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold ${i?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i?(0,t.jsx)(s.IconTrendingUp,{size:14}):(0,t.jsx)(n,{size:14}),l]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:r}),(0,t.jsxs)("p",{className:"text-xs text-neutral-500 flex items-center gap-1",children:[(0,t.jsx)(d.IconMapPin,{size:12})," ",a]})]})]})]});e.s(["default",()=>c],98210)}]);