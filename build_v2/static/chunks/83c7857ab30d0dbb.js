(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42317,e=>{"use strict";let t=(0,e.i(6802).default)("outline","loader","Loader",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M16.25 7.75l2.15 -2.15",key:"svg-1"}],["path",{d:"M18 12l3 0",key:"svg-2"}],["path",{d:"M16.25 16.25l2.15 2.15",key:"svg-3"}],["path",{d:"M12 18l0 3",key:"svg-4"}],["path",{d:"M7.75 16.25l-2.15 2.15",key:"svg-5"}],["path",{d:"M6 12l-3 0",key:"svg-6"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-7"}]]);e.s(["IconLoader",()=>t],42317)},48568,e=>{"use strict";let t=(0,e.i(6802).default)("outline","alert-triangle","AlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);e.s(["IconAlertTriangle",()=>t],48568)},58511,e=>{"use strict";let t=(0,e.i(6802).default)("outline","currency-rupee","CurrencyRupee",[["path",{d:"M18 5h-11h3a4 4 0 0 1 0 8h-3l6 6",key:"svg-0"}],["path",{d:"M7 9l11 0",key:"svg-1"}]]);e.s(["IconCurrencyRupee",()=>t],58511)},30524,e=>{"use strict";let t=(0,e.i(6802).default)("outline","trending-up","TrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);e.s(["IconTrendingUp",()=>t],30524)},4359,e=>{"use strict";let t=(0,e.i(6802).default)("outline","chart-bar","ChartBar",[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]]);e.s(["IconChartBar",()=>t],4359)},8226,e=>{"use strict";var t=e.i(47152),a=e.i(70147),r=e.i(3308),s=e.i(4359),l=e.i(58511),d=e.i(42317);let n=(0,e.i(6802).default)("outline","bulb","Bulb",[["path",{d:"M3 12h1m8 -9v1m8 8h1m-15.4 -6.4l.7 .7m12.1 -.7l-.7 .7",key:"svg-0"}],["path",{d:"M9 16a5 5 0 1 1 6 0a3.5 3.5 0 0 0 -1 3a2 2 0 0 1 -4 0a3.5 3.5 0 0 0 -1 -3",key:"svg-1"}],["path",{d:"M9.7 17l4.6 0",key:"svg-2"}]]);var i=e.i(30524),o=e.i(24644),c=e.i(48568),x=e.i(24832);function m(){let{user:e}=(0,r.useAuth)(),[m,u]=(0,a.useState)(null),[g,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)("");if((0,a.useEffect)(()=>{(async()=>{if(!e)return;let t=`farm_report_${e.email}`,a=localStorage.getItem(t);if(a)return u(JSON.parse(a));if(e.crops&&0!==e.crops.length){p(!0);try{let a=await fetch("/api/reports/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({crops:e.crops,farmSize:e.farmSize,location:e.location})}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to generate report");u(r),localStorage.setItem(t,JSON.stringify(r))}catch(e){f(e.message)}finally{p(!1)}}})()},[e]),!e)return(0,t.jsxs)("div",{className:"p-10 text-center",children:[(0,t.jsx)(d.IconLoader,{className:"animate-spin mx-auto"})," Loading user..."]});let v=!e.crops||0===e.crops.length||!e.farmSize;return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-black text-neutral-800 dark:text-white flex items-center gap-2",children:[(0,t.jsx)(s.IconChartBar,{className:"text-green-600",size:32}),"Farm Intelligence Report"]}),(0,t.jsxs)("p",{className:"text-neutral-500 dark:text-neutral-400 mt-2 text-lg",children:["AI-driven insights tailored to your ",(0,t.jsx)("strong",{children:e.farmSize?`${e.farmSize} Acre`:""})," farm."]})]}),v?(0,t.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-3xl p-8 text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900 rounded-full flex items-center justify-center mx-auto text-amber-600",children:(0,t.jsx)(c.IconAlertTriangle,{size:32})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-amber-800 dark:text-amber-200",children:"Profile Incomplete"}),(0,t.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400 max-w-md mx-auto",children:"To generate a detailed report, we need to know what crops you are growing and your farm size."}),(0,t.jsx)(x.default,{href:"/dashboard/profile",children:(0,t.jsx)("button",{className:"px-6 py-3 bg-neutral-900 dark:bg-white text-white dark:text-black font-bold rounded-xl mt-4 hover:shadow-lg transition-all",children:"Complete Profile"})})]}):g?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-pulse",children:[[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-40 bg-neutral-200 dark:bg-neutral-800 rounded-2xl"},e)),(0,t.jsx)("div",{className:"col-span-1 md:col-span-3 h-60 bg-neutral-200 dark:bg-neutral-800 rounded-2xl"})]}):b?(0,t.jsxs)("div",{className:"p-8 bg-red-50 text-red-600 rounded-2xl text-center",children:["Error: ",b]}):m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(h,{title:"Est. Revenue",value:m.financials.revenue,icon:(0,t.jsx)(l.IconCurrencyRupee,{className:"text-green-500"}),isPositive:!0,notes:m.financials.notes}),(0,t.jsx)(h,{title:"Projected Profit",value:m.financials.profit,icon:(0,t.jsx)(i.IconTrendingUp,{className:"text-blue-500"}),isPositive:!0,notes:"Net profit after expenses"}),(0,t.jsx)(h,{title:"Est. Yield",value:m.yield_forecast.estimated_yield,icon:(0,t.jsx)(o.IconLeaf,{className:"text-orange-500"}),isPositive:!0,notes:m.yield_forecast.details})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-3xl p-8 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)(s.IconChartBar,{className:"text-indigo-500"})," Performance Analysis"]}),(0,t.jsx)("p",{className:"text-neutral-600 dark:text-neutral-300 leading-relaxed text-lg",children:m.performance})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(n,{className:"text-yellow-500"})," Smart Recommendations"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.tips.map((e,a)=>(0,t.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-6 rounded-2xl border border-yellow-100 dark:border-yellow-900/30 flex gap-4",children:[(0,t.jsxs)("span",{className:"font-bold text-yellow-600 text-xl",children:["0",a+1]}),(0,t.jsx)("p",{className:"text-yellow-900 dark:text-yellow-100 font-medium",children:e})]},a))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 dark:from-neutral-800 dark:to-neutral-900 rounded-3xl p-8 text-white",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,t.jsx)(i.IconTrendingUp,{className:"text-emerald-400"})," New Breakthroughs"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:m.breakthroughs.map((e,a)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-bold text-lg text-emerald-400",children:e.title}),(0,t.jsx)("p",{className:"text-neutral-300 text-sm leading-relaxed",children:e.description})]},a))})]})]}):null]})}let h=({title:e,value:a,icon:r,isPositive:s,notes:l})=>(0,t.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:r}),s&&(0,t.jsx)("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-bold",children:"Good"})]}),(0,t.jsx)("p",{className:"text-neutral-500 text-sm font-bold uppercase tracking-wide",children:e}),(0,t.jsx)("h3",{className:"text-3xl font-black text-neutral-800 dark:text-white mt-1",children:a}),l&&(0,t.jsx)("p",{className:"text-xs text-neutral-400 mt-2 line-clamp-2",children:l})]});e.s(["default",()=>m],8226)}]);